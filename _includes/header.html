<nav>
  <div id="nav-container" class="nav-container">
    <ul id="nav-menu">
      <li><a href="{{ '/' | relative_url }}" class="{% if page.url == '/' %}active{% endif %}">Home</a></li>
      <li><a href="{{ '/resume' | relative_url }}" class="{% if page.url contains '/resume' %}active{% endif %}">Resume</a></li>
      <li><a href="{{ '/case-studies' | relative_url }}" class="{% if page.url contains '/case-studies' %}active{% endif %}">Case Studies</a></li>
      <li><a href="{{ '/artifacts' | relative_url }}" class="{% if page.url contains '/artifacts' %}active{% endif %}">Artifacts</a></li>
    </ul>

    <button id="mode-toggle" class="theme-toggle" aria-label="Toggle dark/light mode">
      <svg class="icon sun" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <circle cx="12" cy="12" r="5"></circle>
        <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>
      </svg>
      <svg class="icon moon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M21 12.79A9 9 0 1111.21 3a7 7 0 009.79 9.79z"></path>
      </svg>
    </button>
  </div>
<!-- Mobile Navigation (separate from nav-container) -->
  <div id="mobile-nav-container" class="mobile-nav-container">
      <button id="hamburger" aria-label="Toggle navigation">
        <span></span>
        <span></span>
        <span></span>
    </button>
    
    <ul id="mobile-nav-menu">
      <li><a href="{{ '/' | relative_url }}" class="{% if page.url == '/' %}active{% endif %}">Home</a></li>
      <li><a href="{{ '/resume' | relative_url }}" class="{% if page.url contains '/resume' %}active{% endif %}">Resume</a></li>
      <li><a href="{{ '/case-studies' | relative_url }}" class="{% if page.url contains '/case-studies' %}active{% endif %}">Case Studies</a></li>
      <li><a href="{{ '/artifacts' | relative_url }}" class="{% if page.url contains '/artifacts' %}active{% endif %}">Artifacts</a></li>
    </ul>
    
    <button id="mobile-mode-toggle" class="theme-toggle" aria-label="Toggle dark/light mode">
      <svg class="icon sun" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <circle cx="12" cy="12" r="5"></circle>
        <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>
      </svg>
      <svg class="icon moon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M21 12.79A9 9 0 1111.21 3a7 7 0 009.79 9.79z"></path>
      </svg>
    </button>
</nav>

<script>
const toggleBtn = document.getElementById('mode-toggle');
const body = document.body;

// Apply saved theme on page load
const savedTheme = localStorage.getItem('theme');
if (savedTheme) {
  body.classList.toggle('dark-mode', savedTheme === 'dark');
}

// Add event listener for the toggle button
toggleBtn.addEventListener('click', () => {
  const isDarkMode = body.classList.toggle('dark-mode');
  localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
});

const hamburger = document.getElementById('hamburger');
const mobileNavContainer = document.getElementById('mobile-nav-container');
const mobileNavMenu = document.getElementById('mobile-nav-menu');

// Toggle mobile navigation visibility
hamburger.addEventListener('click', () => {
  mobileNavContainer.classList.toggle('mobile-visible');
  hamburger.classList.toggle('active');

  // Ensure the menu is hidden when not active
  if (mobileNavContainer.classList.contains('mobile-visible')) {
    mobileNavMenu.style.display = 'flex';
  } else {
    mobileNavMenu.style.display = 'none';
  }
});
</script>
